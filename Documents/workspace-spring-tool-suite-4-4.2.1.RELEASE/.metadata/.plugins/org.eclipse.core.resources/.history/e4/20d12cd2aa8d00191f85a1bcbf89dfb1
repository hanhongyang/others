package webadv.s16202234.UserRepository;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.BeanPropertyRowMapper;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.RowMapper;
import org.springframework.stereotype.Repository;

import webadv.s16202234.entity.User;

@Repository

public class UserRepository {

		
		@Autowired
		private JdbcTemplate jdbcTemplate;	
		public List<User> findAll(){		
			// бн		
		}
		
		public User validTeacher(String account,String password) {
			String sql="select user_account as account from lab3_user1 where user_account=? and user_password=?";		
			RowMapper<User> rowMapper=new BeanPropertyRowMapper<User>(User.class);
			List<User> list = jdbcTemplate.query(sql, rowMapper,account,password);	
			if (list != null && list.size()>0) {
				System.out.println(list.get(0).getAccount()+"!!!!!!!!!!!!");
				return list.get(0);
			}else
				return null;				
		}
	}
